<!-- Universidad del Valle de Guatemala -->
<!-- Alberto Andres Urizar Mancia   #17632 -->
<!-- Gustavo Adolfo de LeÃ³n Tobias  #17085 -->
<!-- Miniproyecto 5 -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Miniproyecto 5</title>
</head>
<body>
    <!-- D = 2012, y = 1000/403 x - 3992.55 -->
    <canvas id="board" width="1800" height="900"></canvas>
    <!-- Logica de fuzzy -->
    <script>
        board = document.getElementById('board');
        ctx = board.getContext('2d',{alpha: false});
        // Posiciones iniciales
        let jugX = Math.floor(Math.random()*board.width);
        let jugY = Math.floor(Math.random()*board.height);

        let pelotaX = Math.floor(Math.random()*board.width);
        let pelotaY = Math.floor(Math.random()*board.height);

        let tamanio = 20;

        let jugador = {
            x: jugX,
            y: jugY
        }

        let pelota = {
            x: pelotaX,
            y: pelotaY
        }

        let porteria = {
            x: board.width,
            y: board.height/2
        }

        function entradaLejos(x){
            let y
            if(x<1609){
                y = 0
            }else{
                y = (1000/403)*x - 3992.55 
            }
            
            return y
        }

        function entradaMediano(x){
            let y
            if(x<603 || x>1408){
                y = 0
            }else{
                y = -2.48 * Math.abs(x-1006)+1000
            }
            
            return y
        }
        function entradaCerca(x){
            let y
            if(x<402){
                y = - 500/201 * x + 1000
            }else{
                y = 0
            }
            
            return y
        }
        function entradaGrande(x){
            let y
            if(x<=9 || x>351){
                y = 100
            }else if(x>9 && x<=10){
                y = (-100*x)+1000
            }else if(x>=350 && x<=351){
                y = 100*x-35000
            }
            else{
                y = 0
            }
            
            return y
        }
        function entradaBajo(x){
            let y

            if(x <10 || x > 350){
                y = 0
            }else if(x >10 && x <=11){
                y = (100*x)-1000
            }else if(x >11 && x <=349){
                y = 100
            }else if(x>349 && x <= 350){
                y = (-100*x)+35000
            }else{
                y = 0
            }
            return y
        }
        function respMucho(x){
            let y
            if(x<234){
                y = 0
            }else{
                y = (9.90 * x)-2316.59
            }
            return y
        }
        function respNormal(x){
            let y
            if(x<100 || x>=234){
                y = 0
            }else if(x > 100 && x < 234){
                y = - (7503/503)*(Math.abs(x-(503/3))) + 1000
            }
            else{
                 y = 0 
            }
            return y
        }
        function respPoco(x){
            let y 
            if (x >100){
                y = 0
            }else{
                y = -10*x +1000
            }
        }

        function respGrande(x){
            let y

            if(x <10 || x > 350){
                y = 0
            }else if(x >10 && x <=11){
                y = (100*x)-1000
            }else if(x >11 && x <=349){
                y = 100
            }else if(x>349 && x <= 350){
                y = (-100*x)+35000
            }else{
                y = 0
            }
            return y
        }
        function respBajo(x){
            let y
            if(x<=9 || x>351){
                y = 100
            }else if(x>9 && x<=10){
                y = (-100*x)+1000
            }else if(x>=350 && x<=351){
                y = 100*x-35000
            }
            else{
                y = 0
            }
            
            return y

        }

        function dibujarPorteria(){
            ctx.beginPath();
            ctx.lineWidth = "5";
            ctx.strokeStyle = "gray";
            ctx.rect(porteria.x-20,porteria.y-30,20,60);
            ctx.stroke();
        }

        function dibujarPelota(x,y){
            ctx.beginPath();
            ctx.fillStyle = "#E44124";
            ctx.arc(x,y,10,0,Math.PI*2);
            ctx.fill();
            ctx.closePath();
        }

        function dibujarJugador(x,y,angulo){
            let radianes = angulo*Math.PI/180;
            ctx.translate(x,y);
            ctx.rotate(radianes)
            ctx.beginPath();
            ctx.fillStyle = "#3285E3";
            ctx.moveTo(tamanio*Math.cos(0),tamanio*Math.sin(0));
            for (var i = 1; i <= 3;i += 1) {
                ctx.lineTo (tamanio * Math.cos(i * 2 * Math.PI / 3), tamanio * Math.sin(i * 2 * Math.PI / 3));
            }
            // ctx.lineTo (tamanio * Math.cos(2 * Math.PI / 3), tamanio * Math.sin(2 * Math.PI / 3));
            // ctx.lineTo ((tamanio-10) * Math.cos(2 * 2 * Math.PI / 3), (tamanio+20) * Math.sin(2 * 2 * Math.PI / 3));
            // ctx.lineTo ((tamanio+10) * Math.cos(3 * 2 * Math.PI / 3), (tamanio+20) * Math.sin(3 * 2 * Math.PI / 3));
            ctx.closePath();
            ctx.fill();
            ctx.rotate(-radianes);
            ctx.translate(-x,-y);
            // ctx.moveTo(x,y);
            // ctx.lineTo(x-10,y+30);
            // ctx.lineTo(x+10,y+30);
            // ctx.fill();
            // ctx.closePath();
        }

        // Dibujar pelota
        dibujarPelota(pelota.x, pelota.y);
        // Dibujar jugador
        dibujarJugador(jugador.x, jugador.y, 80);
        //Dibujar porteria
        dibujarPorteria();
        let resp
        resp = entradaCerca(1610)
        console.log(resp)

    </script>
</body>
</html>