<!-- Universidad del Valle de Guatemala -->
<!-- Alberto Andres Urizar Mancia   #17632 -->
<!-- Gustavo Adolfo de LeÃ³n Tobias  #17085 -->
<!-- Miniproyecto 5 -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Miniproyecto 5</title>
</head>
<body>
    <canvas id="board" width="600" height="300"></canvas>
    <!-- Logica de fuzzy -->
    <script>
        board = document.getElementById('board');
        ctx = board.getContext('2d',{alpha: false});
        // Posiciones iniciales
        let jugX = Math.floor(Math.random()*board.width);
        let jugY = Math.floor(Math.random()*board.height);

        let pelotaX = Math.floor(Math.random()*board.width);
        let pelotaY = Math.floor(Math.random()*board.height);

        let tamanio = 20;

        let jugador = {
            x: jugX,
            y: jugY
        }

        let pelota = {
            x: pelotaX,
            y: pelotaY
        }

        let porteria = {
            x: board.width,
            y: board.height/2
        }

        function dibujarPorteria(){
            ctx.beginPath();
            ctx.lineWidth = "5";
            ctx.strokeStyle = "gray";
            ctx.rect(porteria.x-20,porteria.y-30,20,60);
            ctx.stroke();
        }

        function dibujarPelota(x,y){
            ctx.beginPath();
            ctx.fillStyle = "#E44124";
            ctx.arc(x,y,10,0,Math.PI*2);
            ctx.fill();
            ctx.closePath();
        }

        function dibujarJugador(x,y,angulo){
            let radianes = angulo*Math.PI/180;
            ctx.translate(x,y);
            ctx.rotate(radianes)
            ctx.beginPath();
            ctx.fillStyle = "#3285E3";
            ctx.moveTo(tamanio*Math.cos(0),tamanio*Math.sin(0));
            for (var i = 1; i <= 3;i += 1) {
                ctx.lineTo (tamanio * Math.cos(i * 2 * Math.PI / 3), tamanio * Math.sin(i * 2 * Math.PI / 3));
            }
            // ctx.lineTo (tamanio * Math.cos(2 * Math.PI / 3), tamanio * Math.sin(2 * Math.PI / 3));
            // ctx.lineTo ((tamanio-10) * Math.cos(2 * 2 * Math.PI / 3), (tamanio+20) * Math.sin(2 * 2 * Math.PI / 3));
            // ctx.lineTo ((tamanio+10) * Math.cos(3 * 2 * Math.PI / 3), (tamanio+20) * Math.sin(3 * 2 * Math.PI / 3));
            ctx.closePath();
            ctx.fill();
            ctx.rotate(-radianes);
            ctx.translate(-x,-y);
            // ctx.moveTo(x,y);
            // ctx.lineTo(x-10,y+30);
            // ctx.lineTo(x+10,y+30);
            // ctx.fill();
            // ctx.closePath();
        }

        // Dibujar pelota
        dibujarPelota(pelota.x, pelota.y);
        // Dibujar jugador
        dibujarJugador(jugador.x, jugador.y, 80);
        //Dibujar porteria
        dibujarPorteria();

    </script>
</body>
</html>